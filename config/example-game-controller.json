{
  "ProfileName": "Game Controller Emulation",
  "Description": "Xbox controller emulation using ViGEm - requires ViGEm Bus Driver installation",
  "MidiDevices": [
    {
      "DeviceName": "*",
      "Description": "Any MIDI device",
      "Mappings": [
        {
          "Id": "controller-a-button",
          "Description": "Xbox A Button",
          "InputType": "NoteOn",
          "Channel": 1,
          "Note": 36,
          "Action": {
            "$type": "GameControllerButtonConfig",
            "Button": "A",
            "ControllerIndex": 0,
            "Description": "Press A button on controller 1"
          }
        },
        {
          "Id": "controller-b-button",
          "Description": "Xbox B Button",
          "InputType": "NoteOn",
          "Channel": 1,
          "Note": 37,
          "Action": {
            "$type": "GameControllerButtonConfig",
            "Button": "B",
            "ControllerIndex": 0,
            "Description": "Press B button on controller 1"
          }
        },
        {
          "Id": "controller-x-button",
          "Description": "Xbox X Button",
          "InputType": "NoteOn",
          "Channel": 1,
          "Note": 38,
          "Action": {
            "$type": "GameControllerButtonConfig",
            "Button": "X",
            "ControllerIndex": 0,
            "Description": "Press X button on controller 1"
          }
        },
        {
          "Id": "controller-y-button",
          "Description": "Xbox Y Button",
          "InputType": "NoteOn",
          "Channel": 1,
          "Note": 39,
          "Action": {
            "$type": "GameControllerButtonConfig",
            "Button": "Y",
            "ControllerIndex": 0,
            "Description": "Press Y button on controller 1"
          }
        },
        {
          "Id": "controller-start-button",
          "Description": "Xbox Start Button",
          "InputType": "NoteOn",
          "Channel": 1,
          "Note": 40,
          "Action": {
            "$type": "GameControllerButtonConfig",
            "Button": "Start",
            "ControllerIndex": 0,
            "Description": "Press Start button on controller 1"
          }
        },
        {
          "Id": "controller-back-button",
          "Description": "Xbox Back Button",
          "InputType": "NoteOn",
          "Channel": 1,
          "Note": 41,
          "Action": {
            "$type": "GameControllerButtonConfig",
            "Button": "Back",
            "ControllerIndex": 0,
            "Description": "Press Back button on controller 1"
          }
        },
        {
          "Id": "controller-left-shoulder",
          "Description": "Xbox Left Shoulder Button",
          "InputType": "NoteOn",
          "Channel": 1,
          "Note": 42,
          "Action": {
            "$type": "GameControllerButtonConfig",
            "Button": "LeftShoulder",
            "ControllerIndex": 0,
            "Description": "Press Left Shoulder button on controller 1"
          }
        },
        {
          "Id": "controller-right-shoulder",
          "Description": "Xbox Right Shoulder Button",
          "InputType": "NoteOn",
          "Channel": 1,
          "Note": 43,
          "Action": {
            "$type": "GameControllerButtonConfig",
            "Button": "RightShoulder",
            "ControllerIndex": 0,
            "Description": "Press Right Shoulder button on controller 1"
          }
        },
        {
          "Id": "left-stick-x-axis",
          "Description": "Left stick X-axis control",
          "InputType": "ControlChange",
          "Channel": 1,
          "ControllerNumber": 1,
          "Action": {
            "$type": "ConditionalConfig",
            "Conditions": [
              {
                "MinValue": 0,
                "MaxValue": 50,
                "Action": {
                  "$type": "GameControllerAxisConfig",
                  "Axis": "LeftThumbX",
                  "AxisValue": -1.0,
                  "ControllerIndex": 0,
                  "Description": "Move left stick fully left"
                },
                "Description": "Low CC value -> Left stick left"
              },
              {
                "MinValue": 51,
                "MaxValue": 76,
                "Action": {
                  "$type": "GameControllerAxisConfig",
                  "Axis": "LeftThumbX",
                  "AxisValue": 0.0,
                  "ControllerIndex": 0,
                  "Description": "Center left stick X-axis"
                },
                "Description": "Medium CC value -> Left stick center"
              },
              {
                "MinValue": 77,
                "MaxValue": 127,
                "Action": {
                  "$type": "GameControllerAxisConfig",
                  "Axis": "LeftThumbX",
                  "AxisValue": 1.0,
                  "ControllerIndex": 0,
                  "Description": "Move left stick fully right"
                },
                "Description": "High CC value -> Left stick right"
              }
            ],
            "Description": "Left stick X-axis based on CC1"
          }
        },
        {
          "Id": "left-stick-y-axis",
          "Description": "Left stick Y-axis control",
          "InputType": "ControlChange",
          "Channel": 1,
          "ControllerNumber": 2,
          "Action": {
            "$type": "ConditionalConfig",
            "Conditions": [
              {
                "MinValue": 0,
                "MaxValue": 50,
                "Action": {
                  "$type": "GameControllerAxisConfig",
                  "Axis": "LeftThumbY",
                  "AxisValue": -1.0,
                  "ControllerIndex": 0,
                  "Description": "Move left stick fully down"
                },
                "Description": "Low CC value -> Left stick down"
              },
              {
                "MinValue": 51,
                "MaxValue": 76,
                "Action": {
                  "$type": "GameControllerAxisConfig",
                  "Axis": "LeftThumbY",
                  "AxisValue": 0.0,
                  "ControllerIndex": 0,
                  "Description": "Center left stick Y-axis"
                },
                "Description": "Medium CC value -> Left stick center"
              },
              {
                "MinValue": 77,
                "MaxValue": 127,
                "Action": {
                  "$type": "GameControllerAxisConfig",
                  "Axis": "LeftThumbY",
                  "AxisValue": 1.0,
                  "ControllerIndex": 0,
                  "Description": "Move left stick fully up"
                },
                "Description": "High CC value -> Left stick up"
              }
            ],
            "Description": "Left stick Y-axis based on CC2"
          }
        },
        {
          "Id": "right-trigger",
          "Description": "Right trigger control",
          "InputType": "ControlChange",
          "Channel": 1,
          "ControllerNumber": 3,
          "Action": {
            "$type": "ConditionalConfig",
            "Conditions": [
              {
                "MinValue": 0,
                "MaxValue": 10,
                "Action": {
                  "$type": "GameControllerAxisConfig",
                  "Axis": "RightTrigger",
                  "AxisValue": 0.0,
                  "ControllerIndex": 0,
                  "Description": "Release right trigger"
                },
                "Description": "Very low CC -> Trigger released"
              },
              {
                "MinValue": 11,
                "MaxValue": 63,
                "Action": {
                  "$type": "GameControllerAxisConfig",
                  "Axis": "RightTrigger",
                  "AxisValue": 0.5,
                  "ControllerIndex": 0,
                  "Description": "Half-press right trigger"
                },
                "Description": "Medium CC -> Trigger half-pressed"
              },
              {
                "MinValue": 64,
                "MaxValue": 127,
                "Action": {
                  "$type": "GameControllerAxisConfig",
                  "Axis": "RightTrigger",
                  "AxisValue": 1.0,
                  "ControllerIndex": 0,
                  "Description": "Fully press right trigger"
                },
                "Description": "High CC -> Trigger fully pressed"
              }
            ],
            "Description": "Right trigger pressure based on CC3"
          }
        },
        {
          "Id": "dpad-sequence",
          "Description": "D-Pad sequence macro",
          "InputType": "NoteOn",
          "Channel": 1,
          "Note": 48,
          "Action": {
            "$type": "SequenceConfig",
            "SubActions": [
              {
                "$type": "GameControllerButtonConfig",
                "Button": "DPadUp",
                "ControllerIndex": 0,
                "Description": "Press D-Pad Up"
              },
              {
                "$type": "DelayConfig",
                "Milliseconds": 100,
                "Description": "Wait 100ms"
              },
              {
                "$type": "GameControllerButtonConfig",
                "Button": "DPadRight",
                "ControllerIndex": 0,
                "Description": "Press D-Pad Right"
              },
              {
                "$type": "DelayConfig",
                "Milliseconds": 100,
                "Description": "Wait 100ms"
              },
              {
                "$type": "GameControllerButtonConfig",
                "Button": "DPadDown",
                "ControllerIndex": 0,
                "Description": "Press D-Pad Down"
              },
              {
                "$type": "DelayConfig",
                "Milliseconds": 100,
                "Description": "Wait 100ms"
              },
              {
                "$type": "GameControllerButtonConfig",
                "Button": "DPadLeft",
                "ControllerIndex": 0,
                "Description": "Press D-Pad Left"
              }
            ],
            "ErrorHandling": "ContinueOnError",
            "Description": "D-Pad clockwise sequence"
          }
        }
      ]
    }
  ]
}
