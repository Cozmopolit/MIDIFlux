# MIDIFlux v0.9.0 Release Notes

## üéâ Major Features

### MCP Server Integration
MIDIFlux now includes a complete **Model Context Protocol (MCP) Server** implementation, enabling AI coding agents and external tools to programmatically configure and control MIDIFlux. This opens up powerful automation possibilities for profile management and runtime configuration.

**Key MCP Capabilities:**
- Profile management (create, edit, delete, switch profiles)
- Runtime configuration inspection
- MIDI device detection and configuration
- Action mapping management
- Documentation API for LLM consumption

**Usage:** Launch MIDIFlux with the `--mcp-server` flag to enable MCP mode.

### New Actions

#### GameControllerButtonDownAction & GameControllerButtonUpAction
Enables **sustained button presses** for game controller emulation, perfect for scenarios requiring held buttons (e.g., jump+forward mechanics in games).

- **GameControllerButtonDownAction**: Press and hold a controller button
- **GameControllerButtonUpAction**: Release a controller button
- Supports all Xbox 360 controller buttons (A, B, X, Y, triggers, bumpers, D-pad, etc.)
- Works with ViGEm for virtual controller emulation

#### KeyModifiedAction
Simplified configuration for **modified key combinations** (e.g., Ctrl+C, Ctrl+Shift+A, Alt+Tab).

- Supports up to 4 simultaneous modifiers
- Automatically handles modifier press/release sequences
- User-friendly parameter configuration

### Action Categories
Actions are now organized into **7 logical categories** for better discoverability:

- **Keyboard** - Key press, hold, release, modified combinations
- **Mouse** - Click, scroll, movement
- **GameController** - Virtual Xbox controller buttons and axes
- **MidiOutput** - Send MIDI notes, CC, SysEx messages
- **FlowControl** - Sequences, conditionals, alternating actions
- **State** - State management and conditional logic
- **Utility** - Delays, sound playback, command execution

## üé® GUI Improvements

### Enhanced Action Panel UX
- Improved parameter control factory with better type handling
- Enhanced action mapping dialog with category-based organization
- Better visual feedback for action configuration
- Streamlined parameter editing experience

## üîß Technical Improvements

### MCP Server Architecture
- JSON-RPC communication protocol
- Hosted service integration with .NET dependency injection
- Comprehensive API surface for profile and device management
- Structured documentation resources for LLM integration

### Action System Enhancements
- Action category metadata for GUI organization
- Improved action type registry with category support
- Better parameter validation and hints
- Enhanced action discovery and instantiation

## üì¶ What's Included

- **MIDIFlux.App.exe** - Main application (GUI mode by default, MCP server mode with `--mcp-server`)
- **Profile Examples** - Updated examples demonstrating new actions
- **Documentation** - Complete action reference and developer guide

## üîó Resources

- **GitHub Repository**: https://github.com/Cozmopolit/MIDIFlux
- **Discord Community**: https://discord.gg/bwNBtQCMKR
- **Documentation**: See `Documentation/` folder for comprehensive guides

## ‚öôÔ∏è Requirements

- Windows 10/11 (64-bit)
- .NET 8.0 Runtime
- ViGEm Bus Driver (for game controller emulation features)

## üêõ Bug Fixes

- Fixed test infrastructure for better reliability
- Improved parameter control validation
- Enhanced error handling in action execution

## üìù Breaking Changes

None - v0.9.0 is fully backward compatible with v0.8.5 profiles.

## üôè Acknowledgments

Thank you to the MIDIFlux community for feedback and testing! Join our Discord server to share your profiles and get support.

---

**Full Changelog**: https://github.com/Cozmopolit/MIDIFlux/compare/v0.8.5...v0.9.0

